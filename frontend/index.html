<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gym Tracker</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <div class="bg"></div>

  <header class="topbar">
    <div class="brand">
      <div class="logo">G</div>
      <div class="brand-text">
        <div class="brand-title">Gym Tracker</div>
        <div class="brand-sub">check-ins • fotos • treino • stats</div>
      </div>
    </div>
  </header>

  <main class="layout">
    <aside class="sidebar">
      <nav class="nav">
        <button class="nav-btn active" data-view="dashboard">Dashboard</button>
        <button class="nav-btn" data-view="calendar">Calendário</button>
        <button class="nav-btn" data-view="photos">Físico (Fotos)</button>
        <button class="nav-btn" data-view="workouts">Meu Treino</button>
        <button class="nav-btn" data-view="stats">Estatísticas Gerais</button>
      </nav>

      <div class="panel">
        <div class="panel-title">Status</div>
        <div class="panel-row">
          <span>Conectado</span>
          <span id="statusDot" class="dot off"></span>
        </div>
        <div class="panel-row">
          <span>Mês</span>
          <span id="monthLabel" class="pill">—</span>
        </div>
      </div>
    </aside>

    <section class="content">

      <!-- AUTH (mostra quando não logado) -->
      <section id="authView" class="card">
        <h1 class="h1">Entrar</h1>
        <p class="muted">Suas fotos e dados ficam salvos no servidor (não dependem do navegador).</p>

        <div class="grid2">
          <div>
            <label class="label">Email</label>
            <input id="email" class="input" type="email" placeholder="voce@exemplo.com" autocomplete="email" />
          </div>
          <div>
            <label class="label">Senha</label>
            <input id="password" class="input" type="password" placeholder="••••••••" autocomplete="current-password" />
          </div>
        </div>

        <div class="actions">
          <button id="btnLogin" class="btn primary" type="button">Login</button>
          <button id="btnRegister" class="btn" type="button">Criar conta</button>
          <span id="authMsg" class="auth-msg"></span>
        </div>
      </section>

      <!-- APP (mostra quando logado) -->
      <section id="appView" class="hidden">
        <section class="card">
          <h1 class="h1" id="viewTitle">Dashboard</h1>
          <p class="muted" id="viewDesc">Bem-vindo. Use o menu para navegar.</p>
        </section>

        <section class="card hidden" id="dashboardView">
          <h2 class="h2">Resumo</h2>
          <div class="kpis">
            <div class="kpi">
              <div class="kpi-title">Treinos no mês</div>
              <div class="kpi-value" id="kpiWorkouts">—</div>
            </div>
            <div class="kpi">
              <div class="kpi-title">Dias com suplemento</div>
              <div class="kpi-value" id="kpiSupp">—</div>
            </div>
            <div class="kpi">
              <div class="kpi-title">Fotos enviadas</div>
              <div class="kpi-value" id="kpiPhotos">—</div>
            </div>
          </div>
        </section>

        <section class="card hidden" id="calendarView">
          <h2 class="h2">Calendário</h2>
          <p class="muted">Marque treino e suplementos por dia.</p>
          <div class="row">
            <button class="btn" id="prevMonth">◀</button>
            <div class="pill" id="calendarMonth">—</div>
            <button class="btn" id="nextMonth">▶</button>
            <div class="spacer"></div>
            <button class="btn danger" id="btnLogout">Sair</button>
          </div>

          <div class="calendar" id="calendarGrid"></div>

          <div class="card-inner">
            <h3 class="h3">Suplementos</h3>
            <div class="row">
              <input id="suppName" class="input" placeholder="Ex: Whey / Creatina" />
              <button id="btnAddSupp" class="btn primary">Adicionar</button>
            </div>
            <div id="suppList" class="chips"></div>
          </div>
        </section>

        <section class="card hidden" id="photosView">
          <h2 class="h2">Físico (Fotos)</h2>
          <p class="muted">Envie fotos (frente/costas etc). Ficam salvas no servidor.</p>

          <div class="row">
            <input id="photoFile" class="input" type="file" accept="image/*" />
            <input id="photoNote" class="input" placeholder="Nota (opcional)" />
            <button id="btnUploadPhoto" class="btn primary">Enviar</button>
          </div>

          <div id="photoGrid" class="photo-grid"></div>
        </section>

        <section class="card hidden" id="workoutsView">
          <h2 class="h2">Meu Treino</h2>
          <p class="muted">Crie e salve seus treinos.</p>

          <div class="row">
            <input id="workoutTitle" class="input" placeholder="Nome do treino (ex: Push A)" />
            <button id="btnSaveWorkout" class="btn primary">Salvar</button>
          </div>

          <textarea id="workoutText" class="textarea" placeholder="Ex:
Supino reto 4x8
Desenvolvimento 4x10
Tríceps testa 3x12"></textarea>

          <div id="workoutList" class="list"></div>
        </section>

        <section class="card hidden" id="statsView">
          <h2 class="h2">Estatísticas Gerais</h2>
          <p class="muted">Preencha e veja recomendações automáticas.</p>

          <div class="grid3">
            <div>
              <label class="label">Altura (cm)</label>
              <input id="height" class="input" type="number" placeholder="Ex: 187" />
            </div>
            <div>
              <label class="label">Peso (kg)</label>
              <input id="weight" class="input" type="number" placeholder="Ex: 75" />
            </div>
            <div>
              <label class="label">Biotipo</label>
              <select id="biotype" class="input">
                <option value="">—</option>
                <option value="ectomorfo">Ectomorfo</option>
                <option value="mesomorfo">Mesomorfo</option>
                <option value="endomorfo">Endomorfo</option>
              </select>
            </div>
          </div>

          <div class="row">
            <button id="btnSaveProfile" class="btn primary">Salvar</button>
          </div>

          <div class="card-inner">
            <h3 class="h3">Recomendação</h3>
            <div id="recommendation" class="muted">Preencha seus dados para gerar recomendações.</div>
          </div>
        </section>
      </section>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
